@model BroadcastSocialMedia.ViewModels.UsersIndexViewModel

<div class="viewsContainer">
    <h1>Search for users</h1>

    <form action="/Users" method="get">
        <input type="text" name="Search" placeholder="Search" value="@Model.Search" />
        <input type="submit" value="Search" />
    </form>

    <hr />

    <h2>Results</h2>

    @foreach (var user in Model.Result)
    {
        <div class="user">
            <p>@user.Name</p>
            @if (Model.FollowingId.Contains(user.Id))
            {
                <form method="post" action="/Users/StopListen">
                    <input type="hidden" name="UserId" value="@user.Id" />
                    <input type="submit" value="Unfollow" />
                </form>
            }
            else
            {
                <form method="post" action="/Users/Listen">
                    <input type="hidden" name="UserId" value="@user.Id" />
                    <input type="submit" value="Follow" />
                </form>
            }
        </div>
    }
</div>
